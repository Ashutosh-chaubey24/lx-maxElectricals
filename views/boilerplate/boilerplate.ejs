<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">

    <link rel="icon" type="image/png" href="/image/logo7.png">

    <title>Admin- Lx-max Electricals</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

     <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous"> -->
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<style>

    :root{
      --bg:#f7f8fb;         /* page background */
      --card:#ffffff;        /* cards/panels */
      --text:#0f172a;        /* primary text */
      --muted:#6b7280;       /* secondary text */
      --line:#e5e7eb;        /* borders */
      --primary:#2563eb;     /* accent */
      --primary-weak:#e6efff;/* light accent back */
      --danger:#ef4444;      /* delete */
      --ok:#10b981;          /* success */
      --warn:#f59e0b;        /* warning */
      --radius:16px;
      --shadow:0 6px 20px rgba(2,6,23,.07);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text); background:var(--bg);
    overflow-x: hidden;
  
    }

    /* Layout */
    .layout{display:grid; grid-template-columns: 260px 1fr; min-height:100vh}
    /* Mobile: hide sidebar by default, reveal with checkbox */
    #navToggle{display:none}
    aside{
      background:#fff; border-right:1px solid var(--line);
      padding:20px; position:sticky; top:0; height:100vh; overflow:auto;
    }
    .brand{display:flex; align-items:center; gap:10px; margin-bottom:28px}
    .brand-logo{
      width:40px; height:40px; border-radius:12px; background:linear-gradient(135deg,var(--primary),#60a5fa);
      display:grid; place-items:center; color:#fff; font-weight:800; box-shadow:var(--shadow);
    }
    .brand-name{font-weight:800; letter-spacing:.4px}

    nav a{
      display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:12px; text-decoration:none; color:var(--text);
      border:1px solid transparent; transition:.2s ease;
    }
    nav a:hover{background:var(--bg); border-color:var(--line)}
    nav a.active{background:var(--primary-weak); color:var(--primary); border-color:#c7d7ff}
    nav .group{display:grid; gap:6px}
    .nav-label{margin:18px 0 8px; font-size:.78rem; color:var(--muted); text-transform:uppercase; letter-spacing:.12em}

    header{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      padding:18px 22px; position:sticky; top:0; z-index:5; background:var(--bg); border-bottom:1px solid var(--line);
    }
    .left-head{display:flex; align-items:center; gap:12px}
    .mobile-only{display:none}
    .search{display:flex; align-items:center; gap:10px; background:#fff; border:1px solid var(--line); padding:10px 12px; border-radius:12px; min-width:260px}
    .search input{border:none; outline:none; width:220px}
    .user{display:flex; align-items:center; gap:12px}
    .avatar{width:36px; height:36px; border-radius:50%; background:#dbeafe; display:grid; place-items:center; color:var(--primary); font-weight:700}

    main{padding:24px; display:grid; gap:24px}

    .cards{display:grid; grid-template-columns: repeat(12, 1fr); gap:20px}
    .panel{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow);}
    .panel header{position:unset; border:0; background:transparent; padding:16px 18px}
    .panel .body{padding:18px}

    /* Add Product form */
    .form-grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:14px}
    .field{display:grid; gap:8px}
    .field label{font-size:.9rem; color:var(--muted)}
    .field input,.field select,.field textarea{
      width:100%; padding:12px 12px; border-radius:12px; border:1px solid var(--line); background:#fff; outline: none;
    }
    .field textarea{min-height:100px; resize:vertical}
    .col-6{grid-column: span 6}
    .col-4{grid-column: span 4}
    .col-3{grid-column: span 3}
    .col-12{grid-column: span 12}

    .actions{display:flex; gap:10px; justify-content:flex-end; margin-top:10px}
    .btn{appearance:none; border:none; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; border:1px solid transparent}
    .btn.primary{background:var(--primary); color:#fff}
    .btn.ghost{background:#fff; border-color:var(--line)}
    .btn.danger{background:var(--danger); color:#fff}

    /* Products table */
    .table{width:100%; border-collapse:collapse}
    .table th,.table td{padding:14px; border-bottom:1px solid var(--line); text-align:left}
    .table th{font-size:.85rem; color:var(--muted); font-weight:700; text-transform:uppercase; letter-spacing:.06em}
    .product{
      display:flex; align-items:center; gap:12px
    }
    .thumb{width:44px; height:44px; border-radius:12px; object-fit:cover; border:1px solid var(--line)}
    .badge{padding:6px 10px; border-radius:999px; font-size:.76rem; border:1px solid var(--line); background:#fff}
    .badge.ok{border-color:#c7f3e6; background:#ecfdf5; color:#065f46}
    .badge.low{border-color:#fde68a; background:#fffbeb; color:#92400e}

    .row-actions{display:flex; gap:8px}
    .link{padding:8px 10px; border-radius:10px; text-decoration:none; border:1px solid var(--line); color:var(--text)}
    .link:hover{background:var(--bg)}
    .link.edit{color:var(--primary); border-color:#c7d7ff}
    .link.delete{color:var(--danger); border-color:#fecaca}

    /* Modals (pure CSS :target) */
    .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(15,23,42,.45); padding:20px}
    .modal:target{display:grid}
    .dialog{max-width:560px; width:100%; background:#fff; border-radius:18px; box-shadow:var(--shadow); border:1px solid var(--line)}
    .dialog header{display:flex; justify-content:space-between; align-items:center}
    .close{display:inline-block; padding:6px 10px; border-radius:10px; border:1px solid var(--line); text-decoration:none; color:var(--text)}
.icon{
  background-image: url("/image/bellicon.png");
  width: 80px;
  height: 80px;
  background-size: cover;
}
.notification {
    position: relative;
    display: inline-block;
    /* margin: 40px; */
}

.bell {
    font-size: 50px;   /* bell size */
    color: #333;       /* bell color */
}

.badge {
    position: absolute;
    top: -10px;
    right: -10px;
    background: #e63946;  /* red background */
    color: white;
    padding: 5px 10px;
    border-radius: 50px;
    font-size: 14px;
    font-weight: bold;
}

    /* Responsive */
    @media (max-width: 1000px){
      .layout{grid-template-columns: 1fr}
      aside{position:fixed; left:0; top:64px; height:calc(100vh - 64px); transform: translateX(-100%); transition:.25s ease; width:240px; z-index:30}
      #navToggle:checked ~ aside{transform: translateX(0)}
      header{position:sticky; top:0}
      .mobile-only{display:initial}
      .search{min-width:unset}
    }
    @media (max-width: 720px){
      .cards{grid-template-columns: 1fr}
      .col-6,.col-4,.col-3,.col-12{grid-column:1 / -1}
      .table thead{display:none}
      .table tr{display:grid; grid-template-columns: 1fr; gap:8px; padding:12px 0}
      .table td{display:flex; justify-content:space-between; gap:20px; padding:8px 0; border-bottom:0}
      .table td::before{content: attr(data-label); font-weight:600; color:var(--muted)}
      .row-actions{justify-content:flex-end}
    }
  </style>

</head>
<body>
      <div class="layout">
    <input type="checkbox" id="navToggle" aria-label="Open navigation" />

    <aside>
      <div class="brand">
        <div class="brand-logo">AD</div>
        <div>
          <div class="brand-name">Admin Desk</div>
          <div style="font-size:.85rem; color:var(--muted)">Light • Responsive • No JS</div>
        </div>
      </div>

      <div class="nav-label">Main</div>
      <nav class="group">
       <a  href="/admin/dashboard"> <i class="fa-solid fa-gauge"></i> Dashboard</a>
        <a href="/admin/allproducts"><i class="fa-solid fa-box"></i> Products </a>
       
        <a href="/admin/all-users"><i class="fa-solid fa-users"></i> Users</a>
      </nav>
      <nav class="group">
        
          <a href="/admin/register"><i class="fa-solid fa-user-shield"></i> Register New Admin</a>
         <a href="/admin/logout"> <i class="fa-solid fa-right-from-bracket"></i> LogOut</a>
          <a class="text-danger" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa-solid fa-user-xmark" ></i> Delete Admin</a>
      </nav>
      
    </aside>

    <div>
      <header>
        <div class="left-head">
          <label class="mobile-only close" for="navToggle">☰</label>
          <h2 style="margin:0">Products</h2>
        </div>
        <div class="user">
          <div class="search">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            <input type="search" placeholder="Search products…" />
          </div>
          <div class="avatar">SG</div>
        </div>
      </header>
<%- include("./layout.ejs") %>
      <main>
        <!-- Stat cards (example) -->
        <section class="cards">
          <div class="panel" style="grid-column: span 3">
            <header><h3 style="margin:0"><i class="fa-solid fa-boxes-stacked"></i> Total Products     <div class="body" style="font-size:2rem; font-weight:800"><%=totalProducts%></div></h3></header>
       
          </div>
          <div class="panel" style="grid-column: span 2" style="position: static;">
            <header><h3 style="margin:0">
              <img src="/image/notification2.png" alt=""style="height:100px;width: 100px;">
              <p style=" position: relative;  bottom: 90px; left: 70px; color: red;"><%=unreadCounts%></p>
            </h3>
          </header>
          </div>
          <div class="panel" style="grid-column: span 3;">
            <header><h3 style="margin:0"><i class="fa-solid fa-circle text-success"></i> Active Users  <div class="body" style="font-size:2rem; font-weight:800"><%=allUser%></div></h3></header>
           
          </div>
          <div class="panel" style="grid-column: span 4;">
            <header><h3 style="margin:0"><i class="fa-solid fa-user-check"></i>Authorized Admin <div class="body" style="font-size:2rem; font-weight:800"><%= alladmin%></div></h3></header>
          </div>
        </section>
<%- body %>
        <!-- Products Table -->
      </main>
    </div>
  </div>
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Admin</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="/admin/deleteadmin?_method=DELETE" method="post">
        <input type="text" name="username" class="form-control" placeholder="Enter Admin Name">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-danger ">Delete</button>
        </form>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>