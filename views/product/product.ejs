<% layout('./boilerplate/boilerplate2.ejs') %>
<body>
  <section class="products-section" id="products">
    <div class="container">
        <h1 class="section-title">Featured Products</h1>
        <!-- Filters -->
      <div class="filters">
  <button class="filter-btn <%= category === 'all' ? 'active' : '' %>" data-filter="all">
    All
  </button>

  <button class="filter-btn <%= category === 'street-lighting' ? 'active' : '' %>" data-filter="street-lighting">
    Street Lighting
  </button>

  <button class="filter-btn <%= category === 'decorative-poles' ? 'active' : '' %>" data-filter="decorative-poles">
    Decorative Light Poles
  </button>

  <button class="filter-btn <%= category === 'custom-poles' ? 'active' : '' %>" data-filter="custom-poles">
    Custom Poles
  </button>

  <button class="filter-btn <%= category === 'bollard' ? 'active' : '' %>" data-filter="bollard">
    Bollard
  </button>

  <button class="filter-btn <%= category === 'traffic-poles' ? 'active' : '' %>" data-filter="traffic-poles">
    Traffic Poles
  </button>

  <button class="filter-btn <%= category === 'high-mast' ? 'active' : '' %>" data-filter="high-mast">
    High Mast
  </button>

  <button class="filter-btn <%= category === 'camera-poles' ? 'active' : '' %>" data-filter="camera-poles">
    Camera Poles
  </button>

  <button class="filter-btn <%= category === 'solar-poles' ? 'active' : '' %>" data-filter="solar-poles">
    Solar Light Poles
  </button>
</div>


        <!-- Product Grid -->
        <div class="my-products">
  <% if (hasProducts) { %>
    <div class="product-grid">
      <% for (let p of allproducts) { %>
      <div class="product-card1">
        <div class="product-image">
          <a href="/showproductinfo/<%= p._id %>">
          <img 
  src="<%= p.image %>" 
  alt="<%= p.title %> decorative light pole"
  loading="lazy"
></a>
        </div>

        <div class="product-info">
         

          <p class="product-category"><%= p.material %></p>

          <div class="product-details">
            <span><%= p.title %></span>
            <div>Height <span><%= p.height %></span></div>
          </div>
          <div class="product-buttons">
            <button class="cta-btn1 openModalBtn" data-id="<%= p._id %>">Get Quote</button>
              <a style="text-decoration: none;" href="/showproductinfo/<%= p._id %>" class="cta-btn1 view-btn" >View</a>

          </div>
        </div>
      </div>
      <% } %>
    </div>
  <% } else { %>
    <div style="text-align:center; margin:50px 0; font-size:24px; color:gray;">
      Coming Soon!
    </div>
  <% } %>
</div>

    </div>
</section>
<!-- modal -->
<div class="customModal" id="quoteModal">
  <div class="modalBox">

    <!-- LEFT SIDE -->
    <div class="leftSection">
      <h3 class="productTitle" id="title">Solar Street Light Pole</h3>

      <div class="imgWrapper">
        <img src="" id="img" alt="Product Image" style="height:400px;object-fit:cover;">
      </div>

      <p class="moq" id="height"></p>
      <p class="moq" id="material"></p>
    </div>

    <!-- RIGHT SIDE -->
    <div class="rightSection">
      <h3 class="quoteTitle">Get a Quick Quote</h3>

      <!-- â­ Bootstrap validation -->
      <form class="quoteForm needs-validation" novalidate method="post" action="/user/enquiry">
        <input type="hidden" id="productid" name="productId">

        <div class="formGroup mb-3">
          <label>Name</label>
          <input type="text" name="name" class="form-control" required>
          <div class="invalid-feedback">
            Name is required
          </div>
        </div>

        <div class="formGroup mb-3">
          <label>Email</label>
          <input type="email" name="email" class="form-control" required>
          <div class="invalid-feedback">
            Enter a valid email
          </div>
        </div>

        <div class="formGroup mb-3">
          <label>Quantity</label>
          <input type="number" name="Quantity" class="form-control" min="1" required>
          <div class="invalid-feedback">
            Quantity must be at least 1
          </div>
        </div>

        <div class="formGroup mb-3">
          <label>Mobile No.</label>
          <div class="input-group">
            <span class="input-group-text">ðŸ‡®ðŸ‡³ +91</span>
            <input type="text"
                   name="mobile"
                   class="form-control"
                   pattern="[0-9]{10}"
                   required>
            <div class="invalid-feedback">
              Enter valid 10 digit mobile number
            </div>
          </div>
        </div>

        <div class="formGroup mb-3">
          <label>Message</label>
          <textarea name="requirementDeatail"
                    class="form-control"
                    rows="3"
                    required></textarea>
          <div class="invalid-feedback">
            Message is required
          </div>
        </div>

        <button type="submit" class="submitBtn btn btn-primary w-100">
          Send Enquiry
        </button>
      </form>
    </div>

    <span class="closeBtn">&times;</span>
  </div>
</div>





</body>

